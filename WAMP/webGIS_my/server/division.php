<?phpinclude("config.php");include("getTileToJson.php");function reviseXY($num, $b, $p) //num is lon or lat, b is border width or height, p is 1 or 2, namely X1, X2...{	$tmp = (float)(int)($num/$b);	$tmp*=$b;	return ($p==1)? $tmp+$b: $tmp;}function loadGeoData($x1, $y1, $x2, $y2){	$bX = $Tile_config['width'];	$bY = $Tile_config['height'];	//revise	$x1 = reviseXY($x1, $bX, 1);	$x2 = reviseXY($x2, $bX, 2);	$y1 = reviseXY($y1, $bY, 1);	$y2 = reviseXY($y2, $bY, 2);			$delX = $x2 - $x1;	$delY = $y2 - $y1;		$nX = (int)($delX / $bX) + 1;	$nY = (int)($delY / $bY) + 1;		for($j=0; $j<$nY-1; $j++)	{		for($i=0; $i<$nX; $i++)		{			//x1			$bboxX1 = $x1 + $i*$bX;			//y1			$bboxY1 = $y1 + $j*$bY;			//x2			$bboxX2 = $x1 + ($i+1)*$bX;			//y2			$bboxY2 = $y1 + ($j+1)*$bY;						getTileToJson($bboxX1, $bboxY1, $bboxX2, $bboxY2)		}	}}?>